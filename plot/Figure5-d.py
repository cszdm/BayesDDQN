import matplotlib.pyplot as plt
import matplotlib as mpl
import numpy as np

mpl.rcParams["font.sans-serif"] = ["SimHei"]
mpl.rcParams["axes.unicode_minus"] = False
plt.rcParams['axes.labelsize'] = 16  # xy轴label的size
plt.rcParams['xtick.labelsize'] = 14  # x轴ticks的size
plt.rcParams['ytick.labelsize'] = 14  # y轴ticks的size
fig, ax = plt.subplots()
x = np.arange(1,25)
#TAWM

Total=[13037.085501858735, 13087.840148698884, 13413.96875, 13324.96875, 13037.434456928839, 12810.277580071175, 12945.864768683274, 12856.377224199288, 12764.257839721255, 12716.551020408164, 13063.27536231884, 13157.772727272728, 13010.44776119403, 13138.149253731342, 12761.780141843972, 13161.142322097377, 13262.584905660377, 13128.31046931408, 12857.469314079422, 12948.539568345324, 12874.81690140845, 12782.654676258993, 12797.965397923876, 12762.41379310345]
Brown=[11623.885501858735, 10456.290148698885, 11715.61875, 13324.96875, 13037.434456928839, 12810.277580071175, 12945.864768683274, 12809.627224199288, 8975.957839721255, 11286.451020408163, 6312.22536231884, 4820.972727272729, 3909.697761194029, 1657.8492537313432, 1671.6801418439718, 0, 0, 0, 0, 0, 0, 4747.954676258993, 5393.065397923876, 6511.663793103449]
Cooling=[3533.0855018587363, 3546.8401486988846, 3767.96875, 3742.96875, 3552.434456928839, 3362.2775800711743, 3397.864768683274, 3374.3772241992883, 3298.257839721254, 3227.5510204081634, 3474.275362318841, 3614.772727272727, 3535.4477611940297, 3570.149253731343, 3340.7801418439717, 3586.1423220973784, 3633.5849056603774, 3482.3104693140795, 3410.4693140794225, 3425.539568345324, 3352.816901408451, 3381.654676258993, 3289.965397923875, 3272.4137931034484]
RES=[1413.1999999999998, 2631.5499999999997, 1698.3500000000001, 0, 0, 0, 0, 46.75, 3788.2999999999997, 1430.1, 6751.05, 8336.8, 9100.75, 11480.3, 11090.1, 15000, 15000, 13331.45, 14029.05, 13343.800000000001, 13484.1, 8034.700000000001, 7404.9, 6250.75]


print('总能耗:', sum(tuple(Total[0: 15]))+sum(tuple(Total[21: 24])))
print('棕色能耗:', sum(tuple(Brown[0: 15]))+sum(tuple(Brown[21: 24])))
print('制冷能耗:', sum(tuple(Cooling[0: 15]))+sum(tuple(Cooling[21: 24])))


print((sum(tuple(Total[15:21]))-sum(tuple(Brown[15:21])))/sum(tuple(RES[15:21])))


total_width, n = 0.8, 3
width = total_width / n
x = x - (total_width - width) / 2


ax.bar(x, height=Total, width=width, align="center", color="#63b2ee", bottom=0, label="Total")
ax.bar(x+width, height=Brown, width=width, align="center", color="#76da91", bottom=0, label="Brown")
ax.bar(x+2*width, height=Cooling, width=width, align="center", color="#f8cb7f", bottom=0, label="Cooling")
ax.plot(x, RES, label="RES", marker='*', markersize=5.5, color='#f89588')

ax.set_ylabel('Energy (kWh)')
ax.set_xlabel('Hour')
plt.ylim(0,18000)
plt.tight_layout()
plt.legend()
plt.grid(axis="y")
plt.show()
