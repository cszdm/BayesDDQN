import matplotlib.pyplot as plt
import matplotlib as mpl
import numpy as np

mpl.rcParams["font.sans-serif"] = ["SimHei"]
mpl.rcParams["axes.unicode_minus"] = False
plt.rcParams['axes.labelsize'] = 16  # xy轴label的size
plt.rcParams['xtick.labelsize'] = 14  # x轴ticks的size
plt.rcParams['ytick.labelsize'] = 14  # y轴ticks的size
fig, ax = plt.subplots()
x = np.arange(1, 25)
#TAWM

Total=[13308.037735849057, 13095.220588235294, 13360.608365019012, 13114.408239700375, 13086.42490842491, 13056.3663003663, 12959.342657342657, 13198.153846153846, 13151.076923076922, 13273.590909090908, 13570.353413654619, 13509.471544715447, 13372.846153846152, 13327.679389312976, 12852.025270758122, 13101.454212454213, 13250.380952380952, 13260.169741697417, 13141.066420664207, 13073.985239852398, 13004.166051660517, 12805.660516605167, 13023.332103321034, 12934.30985915493]
Brown=[11894.837735849058, 10463.670588235294, 11662.258365019012, 13114.408239700375, 13086.42490842491, 13056.3663003663, 12959.342657342657, 13151.403846153846, 9362.776923076923, 11843.490909090908, 6819.303413654618, 5172.671544715447, 4272.096153846152, 1847.3793893129769, 1761.9252707581218, 0, 0, 0, 0, 0, 0, 4770.960516605166, 5618.432103321034, 6683.55985915493]
Cooling=[3646.037735849057, 3520.2205882352937, 3680.6083650190117, 3573.4082397003745, 3508.4249084249086, 3500.3663003663005, 3357.3426573426573, 3666.153846153846, 3653.076923076923, 3646.590909090909, 3888.353413654618, 3904.471544715447, 3853.8461538461534, 3681.679389312977, 3409.0252707581226, 3512.4542124542127, 3552.3809523809523, 3574.169741697417, 3542.066420664207, 3523.9852398523985, 3505.1660516605166, 3451.6605166051663, 3510.332103321033, 3368.3098591549297]
RES=[1413.1999999999998, 2631.5499999999997, 1698.3500000000001, 0, 0, 0, 0, 46.75, 3788.2999999999997, 1430.1, 6751.05, 8336.8, 9100.75, 11480.3, 11090.1, 15000, 15000, 13331.45, 14029.05, 13343.800000000001, 13484.1, 8034.700000000001, 7404.9, 6250.75]



print((sum(Total)-sum(Brown))/sum(RES))


print('总能耗:', sum(tuple(Total[0: 15]))+sum(tuple(Total[21: 24])))
print('棕色能耗:', sum(tuple(Brown[0: 15]))+sum(tuple(Brown[21: 24])))
print('制冷能耗:', sum(tuple(Cooling[0: 15]))+sum(tuple(Cooling[21: 24])))

total_width, n = 0.8, 3
width = total_width / n
x = x - (total_width - width) / 2


ax.bar(x, height=Total, width=width, align="center", color="#63b2ee", bottom=0, label="Total")
ax.bar(x+width, height=Brown, width=width, align="center", color="#76da91", bottom=0, label="Brown")
ax.bar(x+2*width, height=Cooling, width=width, align="center", color="#f8cb7f", bottom=0, label="Cooling")
ax.plot(x, RES, label="RES", marker='*', markersize=5.5, color='#f89588')

ax.set_ylabel('Energy (kWh)')
ax.set_xlabel('Hour')
plt.ylim(0, 18000)
plt.tight_layout()
plt.legend()
plt.grid(axis="y")
plt.show()
