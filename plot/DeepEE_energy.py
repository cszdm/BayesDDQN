import matplotlib.pyplot as plt
import matplotlib as mpl
import numpy as np

mpl.rcParams["font.sans-serif"] = ["SimHei"]
mpl.rcParams["axes.unicode_minus"] = False
plt.rcParams['axes.labelsize'] = 16  # xy轴label的size
plt.rcParams['xtick.labelsize'] = 14  # x轴ticks的size
plt.rcParams['ytick.labelsize'] = 14  # y轴ticks的size
fig, ax = plt.subplots()
x = np.arange(1, 25)

Total = [13240.518518518518, 12611.817629179332, 14353.028037383177, 14149.074766355141, 11920.096153846154, 12277.890173410404, 12402.92485549133, 12310.115606936415, 12283.046242774566, 12038.4, 11905.325358851675, 11942.502392344497, 11864.212560386473, 12434.581395348838, 11592.844036697248, 14168.760563380281, 14120.267605633802, 14123.206572769954, 13848.413145539907, 13939.521126760563, 13963.032863849767, 13824.901408450703, 13957.154929577464, 11677.07192575406]
Brown = [11827.318518518518, 9980.267629179332, 12654.678037383177, 14149.074766355141, 11920.096153846154, 12277.890173410404, 12402.92485549133, 12263.365606936415, 8494.746242774567, 10608.3, 5154.275358851674, 3605.7023923444976, 2763.4625603864733, 954.2813953488385, 502.7440366972478, 0, 0, 791.756572769953, 0, 595.7211267605617, 478.93286384976636, 5790.201408450703, 6552.254929577464, 5426.32192575406]
Cooling = [3578.5185185185182, 2939.817629179331, 4571.028037383177, 4506.07476635514, 2310.096153846154, 2752.8901734104047, 2780.9248554913297, 2760.115606936416, 2754.0462427745665, 2534.4, 2298.325358851675, 2305.502392344498, 2308.212560386474, 2800.5813953488373, 2162.8440366972477, 4526.760563380282, 4511.267605633803, 4512.206572769954, 4424.4131455399065, 4453.521126760564, 4461.032863849766, 4416.901408450704, 4459.154929577465, 2199.0719257540604]
RES=[1413.1999999999998, 2631.5499999999997, 1698.3500000000001, 0, 0, 0, 0, 46.75, 3788.2999999999997, 1430.1, 6751.05, 8336.8, 9100.75, 11480.3, 11090.1, 15000, 15000, 13331.45, 14029.05, 13343.800000000001, 13484.1, 8034.700000000001, 7404.9, 6250.75]



print((sum(Total)-sum(Brown))/sum(RES))



print('总能耗:', sum(tuple(Total[0: 15]))+sum(tuple(Total[21: 24])))
print('棕色能耗:', sum(tuple(Brown[0: 15]))+sum(tuple(Brown[21: 24])))
print(sum(tuple(Brown)))
print('制冷能耗:', sum(tuple(Cooling[0: 15]))+sum(tuple(Cooling[21: 24])))

total_width, n = 0.8, 3
width = total_width / n
x = x - (total_width - width) / 2


ax.bar(x, height=Total, width=width, align="center", color="#63b2ee", bottom=0, label="Total")
ax.bar(x+width, height=Brown, width=width, align="center", color="#76da91", bottom=0, label="Brown")
ax.bar(x+2*width, height=Cooling, width=width, align="center", color="#f8cb7f", bottom=0, label="Cooling")
ax.plot(x, RES, label="RES", marker='*', markersize=5.5, color='#f89588')


ax.set_ylabel('Energy (kWh)')
ax.set_xlabel('Hour')
plt.ylim(0,18000)
plt.tight_layout()
plt.legend()
plt.grid(axis="y")
plt.show()
